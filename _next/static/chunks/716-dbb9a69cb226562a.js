(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{1637:function(e,n,t){"use strict";t(4195),t(8127)},292:function(e,n,t){"use strict";t.d(n,{W:function(){return I}});var l=t(5456),i=t(2699),a=t(4195);t(5155);let s="weather-card",r={now:"https://devapi.qweather.com/v7/weather/now",seven:"https://devapi.qweather.com/v7/weather/7d",recent:"https://devapi.qweather.com/v7/minutely/5m"},o={cardData:null,locationIndex:0,now:null,recent:null,seven:null,displayContent:"default"},c=null,d=null,u=(e,n,t)=>{let l=o.cardData;if(null==l)return;let i=0==o.locationIndex?l.location:l.location2,a="key=".concat(l.apiKey,"&location=").concat(i.latitude,",").concat(i.longitude,"&lang=").concat(l.lang);fetch("".concat(r[e],"?").concat(a)).then(e=>e.json()).then(i=>{200==i.code&&(o[e]=i[n],o.renderFunc(p(l,t)))})},x=function(e){u("now","now",e),u("recent","summary",e),u("seven","daily",e)},h=e=>{var n;(null===(n=o.cardData)||void 0===n?void 0:n.location2)&&(o.locationIndex=0==o.locationIndex?1:0,x(e))},p=(e,n)=>{let t=()=>(function e(n,t){d&&clearTimeout(d),"detail"===o.displayContent?(o.displayContent="sevenDay",d=setTimeout(()=>e(n,t),1e4)):"default"===o.displayContent?o.displayContent="detail":o.displayContent="default",console.log("switch to ".concat(o.displayContent)),o.renderFunc(p(n,t))})(e,n),l=0==o.locationIndex?e.location:e.location2;switch(o.displayContent){case"default":var i,s,r,c,u,x,m,f,v;return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)("i",{className:"qi-"+(null==o?void 0:null===(i=o.now)||void 0===i?void 0:i.icon)+" px-2 text-5xl cursor-pointer",onClick:t}),(0,a.jsxs)("div",{className:"flex flex-row items-start px-2 border-r-2",children:[(0,a.jsx)("span",{className:"text-3xl",children:null==o?void 0:null===(s=o.now)||void 0===s?void 0:s.temp}),(0,a.jsx)("span",{className:"text-xl",children:"℃"})]}),(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)("p",{className:"font-bold w-9 mx-2 cursor-pointer",onClick:()=>h(n),children:l.name}),(0,a.jsxs)("div",{className:"relative text-xl w-12",children:[(0,a.jsx)("p",{className:"absolute top-0",children:null==o?void 0:null===(r=o.seven)||void 0===r?void 0:null===(c=r[0])||void 0===c?void 0:c.tempMin}),(0,a.jsx)("div",{className:"absolute w-3/4 h-[2px] -rotate-45 bg-red-200 left-1 top-6"}),(0,a.jsx)("p",{className:"absolute bottom-0 right-0",children:null==o?void 0:null===(u=o.seven)||void 0===u?void 0:null===(x=u[0])||void 0===x?void 0:x.tempMax})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-xl pr-3 flex-shrink-0",children:null==o?void 0:null===(m=o.now)||void 0===m?void 0:m.text}),(0,a.jsxs)("span",{className:"flex flex-col text-sm opacity-75 leading-tight",children:[null==o?void 0:null===(f=o.now)||void 0===f?void 0:f.windDir," ",null==o?void 0:null===(v=o.now)||void 0===v?void 0:v.windScale,n("level")," - ",o.recent]})]})]});case"sevenDay":let g=null==o?void 0:o.seven.slice(1,4).map(e=>(0,a.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-xl",children:[(0,a.jsx)("i",{className:"qi-"+e.iconDay}),(0,a.jsx)("i",{className:"qi-"+e.iconNight+" "})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:e.textDay}),(0,a.jsx)("span",{children:e.textNight!=e.textDay?"~"+e.textNight:""})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:e.tempMin}),"~",(0,a.jsx)("span",{children:e.tempMax})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:e.windDirDay}),(0,a.jsxs)("span",{children:[e.windScaleDay,n("level")]})]})]},e.fxDate));return(0,a.jsx)("div",{className:"flex flex-col items-center justify-between h-full cursor-pointer",onClick:t,children:g});case"detail":return(0,a.jsxs)("div",{className:"px-2 flex flex-col justify-between h-full cursor-pointer",onClick:t,children:[(0,a.jsxs)("div",{className:"flex flex-r justify-between",children:[(0,a.jsx)("span",{children:"".concat(n("humidity")," ").concat(o.now.humidity," %")}),(0,a.jsx)("span",{children:"".concat(n("feelsLike")," ").concat(o.now.feelsLike," \xb0C")})]}),(0,a.jsxs)("div",{className:"flex flex-r justify-between",children:[(0,a.jsx)("span",{children:"".concat(n("cloud")," ").concat(o.now.cloud," %")}),(0,a.jsx)("span",{children:"".concat(n("precip")," ").concat(o.now.precip," mm")})]}),(0,a.jsx)("div",{children:"".concat(n("vis")," ").concat(o.now.vis," km")})]})}return(0,a.jsx)("div",{})};var m=t(7846),f=t.n(m);let v="collection-card",g={collections:[]},w={},j=null;function y(e){let n="".concat(new Date().toLocaleString(),"  ").concat(e(["sun","mon","tue","wed","thu","fri","sat"][new Date().getDay()]));return(0,a.jsx)("div",{className:"text-center text-xl",children:n})}var C=t(8104),N=t(1801);let b={};var k={DefaultCardInfo:{"weather-card":{name:s,position:{landscape:{x:1,y:1,w:8,h:3},portrait:{x:1,y:1,w:8,h:3}},register:{render:(e,n)=>{c&&clearInterval(c),x(n),c=setInterval(function(){x(n)},18e5)},install:(e,n)=>{o.cardData=e[s],o.renderFunc=n},uninstall:()=>{clearInterval(c)}},info:{author:"Amarillys",upgradeGitUrl:"http://github.com/Amarillys/summer-shadow"},style:{extraClass:"bg-red-300/60 rounded-lg p-2"},i18n:{"zh-CN":{cloud:"云量",level:"级",humidity:"湿度",feelsLike:"体感温度",vis:"能见度",precip:"降水量"}}},"collection-card":{name:v,position:{landscape:{x:10,y:1,w:30,h:6},portrait:{x:1,y:1,w:.8,h:9}},register:{render:(e,n)=>{g.readerFunc(function(e){let n=g.collections.map(e=>{let n=e.icon||e.name.replace(/ /g,"-").split("#")[0].toLowerCase()+".png";return(0,a.jsxs)("a",{className:"flex flex-col items-center px-2 py-2",target:"_blank",href:e.url,children:[(0,a.jsx)("div",{className:"w-12",children:(0,a.jsx)(f(),{src:"./img/collections/".concat(n),className:"rounded-lg",alt:e.name,width:50,height:50})}),(0,a.jsx)("div",{className:"w-20 text-center",children:e.name})]},e.name)});return(0,a.jsx)("div",{className:"flex flex-row p-2 flex-wrap justify-center-safe",children:n})}(0))},install:(e,n)=>{var t;g.collections=(null===(t=e[v])||void 0===t?void 0:t.collections)||[],g.readerFunc=n},uninstall:()=>{}},info:{author:"Amarillys",upgradeGitUrl:"http://github.com/Amarillys/summer-shadow"},style:{extraClass:"bg-red-300/60 rounded-lg p-2"},i18n:{"zh-CN":{level:"级","collection-card":"收藏卡片"}}},"tiny-clock":{name:"tiny-clock",position:{landscape:{x:-9,y:-1,w:9,h:1},portrait:{x:-9,y:-1,w:9,h:1}},register:{render:(e,n)=>{j&&clearInterval(j),w.renderFunc(y(n)),j=setInterval(function(){w.renderFunc(y(n))},1e3)},install:(e,n)=>{w.renderFunc=n},uninstall:()=>{clearInterval(j)}},info:{author:"Amarillys",upgradeGitUrl:"http://github.com/Amarillys/summer-shadow"},style:{extraClass:"bg-red-300/60 rounded-lg p-1 flex justify-center"},i18n:{"zh-CN":{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"}}},"setting-panel":{name:"setting-panel",position:{landscape:{x:-1,y:-6,w:1,h:4},portrait:{x:-1,y:-6,w:1,h:4}},register:{render:(e,n)=>{b.readerFunc((0,a.jsxs)("div",{className:"flex flex-col justify-between h-full items-center",children:[(0,a.jsx)(C.xRF,{className:"scale-150 cursor-pointer",onClick:()=>b.storeObject.setCurrentPage("setting")}),(0,a.jsx)(N.yjz,{className:"scale-125 cursor-pointer"}),(0,a.jsx)(N.Ctn,{className:"scale-150 cursor-pointer",onClick:()=>b.storeObject.setEditing()})]}))},install:(e,n,t)=>{b.readerFunc=n,b.storeObject=t},uninstall:()=>{}},info:{author:"Amarillys",upgradeGitUrl:"http://github.com/Amarillys/summer-shadow"},style:{extraClass:"bg-red-300/60 rounded-lg px-1 py-4"}}}};let I=(0,l.Ue)((e,n)=>({uiConfig:{blockSize:32,padding:10,language:"zh-CN",rotation:window.innerWidth>window.innerHeight?"landscape":"portrait"},initialized:!1,editing:!0,cardInfos:k.DefaultCardInfo,i18nTexts:{"zh-CN":{user:"用户"}},currentPage:"home",readConfig:()=>{fetch("./data/main.json").then(e=>e.json()).then(t=>{let l=localStorage.getItem("mainData");l?e((0,i.merge)(n(),t,JSON.parse(l))):e((0,i.merge)(n(),t))})},setRotation:n=>e(e=>({uiConfig:{...e.uiConfig,rotation:n}})),setLanguage:n=>e(e=>({uiConfig:{...e.uiConfig,language:n}})),setBlockSize:n=>e(e=>({uiConfig:{...e.uiConfig,blockSize:n}})),setInitialize:n=>e(()=>({initialized:n})),setEditing:n=>e(e=>null!=n?{editing:n}:{editing:!e.editing}),setUIConfig:n=>e(()=>({uiConfig:n})),updateCardPosition(n,t,l){e(e=>({cardInfos:{...e.cardInfos,[n]:{...e.cardInfos[n],position:{...e.cardInfos[n].position,[t]:l}}}}))},registerI18n:n=>e(e=>{let t=Object.keys(n),l=e.i18nTexts;for(let i=0;i<t.length;++i)e.i18nTexts[t[i]]?l[t[i]]={...l[t[i]],...n[t[i]]}:l[t[i]]=n[t[i]];return l}),setCurrentPage:n=>e(()=>({currentPage:n})),t:(e,t)=>n().i18nTexts[n().uiConfig.language][e]||e,importConfig:()=>{},exportConfig:()=>{},updateConfig:n=>{e({uiConfig:n})},saveConfig:()=>{localStorage.setItem("mainData",JSON.stringify(n()))}}))},8127:function(){},5155:function(){}}]);